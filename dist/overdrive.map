{"version":3,"sources":["../src/ramjet.js","../node_modules/stacking-order/src/utils/findStackingContext.js","../node_modules/stacking-order/src/utils/getAncestors.js","../node_modules/stacking-order/src/utils/getZIndex.js","../node_modules/stacking-order/src/utils/last.js","../node_modules/stacking-order/src/index.js","../src/utils/svg.js","../src/utils/node.js","../src/utils/parseColor.js","../src/utils/parseBorderRadius.js","../src/utils/findParent.js","../src/utils/detect.js","../src/utils/matrix.js","../src/Wrapper.js","../src/interpolators/opacity.js","../src/interpolators/rgba.js","../src/interpolators/array.js","../src/interpolators/borderRadius.js","../src/interpolators/transform.js","../src/easing.js","../src/utils/addCss.js","../src/utils/generateId.js","../src/utils/rAF.js","../src/transformer.js","../src/utils/getKeyframes.js","Overdrive.vue","index.js"],"names":["plugin","install","Vue","installed","component","Overdrive","VOverdrive","enabled","state","value","GlobalVue","window","global","use"],"mappings":"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","file":"overdrive.map","sourceRoot":"../src","sourcesContent":["import { compare } from 'stacking-order';\nimport { showNode, hideNode } from './utils/node.js';\nimport Wrapper from './Wrapper.js';\nimport transformer from './transformer.js';\n\nexport function transform ( fromNode, toNode, options = {} ) {\n\tif ( typeof options === 'function' ) {\n\t\toptions = { done: options };\n\t}\n\n\tif ( !( 'duration' in options ) ) {\n\t\toptions.duration = 400;\n\t}\n\n\tconst from = new Wrapper( fromNode, options );\n\tconst to = new Wrapper( toNode, options );\n\n\tconst order = compare( from._node, to._node );\n\n\tfrom.setOpacity( 1 );\n\tto.setOpacity( 0 );\n\n\t// in many cases, the stacking order of `from` and `to` is\n\t// determined by their relative location in the document –\n\t// so we need to preserve it\n\tif ( order === 1 ) {\n\t\tto.insert();\n\t\tfrom.insert();\n\t} else {\n\t\tfrom.insert();\n\t\tto.insert();\n\t}\n\n\treturn transformer( from, to, options );\n}\n\nexport function hide ( ...nodes ) {\n\tnodes.forEach( hideNode );\n}\n\nexport function show ( ...nodes ) {\n\tnodes.forEach( showNode );\n}\n\n// expose some basic easing functions\nexport { linear, easeIn, easeOut, easeInOut } from './easing.js';\n","const props = /\\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\\b/;\n\nfunction isFlexItem ( node ) {\n\tconst display = getComputedStyle( node.parentNode ).display;\n\treturn display === 'flex' || display === 'inline-flex';\n}\n\nfunction createsStackingContext ( node ) {\n\tconst style = getComputedStyle( node );\n\n\t// https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context\n\tif ( style.position === 'fixed' ) return true;\n\tif ( style.zIndex !== 'auto' && style.position !== 'static' || isFlexItem( node ) ) return true;\n\tif ( +style.opacity < 1 ) return true;\n\tif ( 'transform' in style && style.transform !== 'none' ) return true;\n\tif ( 'webkitTransform' in style && style.webkitTransform !== 'none' ) return true;\n\tif ( 'mixBlendMode' in style && style.mixBlendMode !== 'normal' ) return true;\n\tif ( 'filter' in style && style.filter !== 'none' ) return true;\n\tif ( 'webkitFilter' in style && style.webkitFilter !== 'none' ) return true;\n\tif ( 'isolation' in style && style.isolation === 'isolate' ) return true;\n\tif ( props.test( style.willChange ) ) return true;\n\tif ( style.webkitOverflowScrolling === 'touch' ) return true;\n\n\treturn false;\n}\n\nexport default function findStackingContext ( nodes ) {\n\tlet i = nodes.length;\n\n\twhile ( i-- ) {\n\t\tif ( createsStackingContext( nodes[i] ) ) return nodes[i];\n\t}\n\n\treturn null;\n}\n","export default function getAncestors ( node ) {\n\tlet ancestors = [];\n\n\twhile ( node ) {\n\t\tancestors.push( node );\n\t\tnode = node.parentNode;\n\t}\n\n\treturn ancestors; // [ node, ... <body>, <html>, document ]\n}\n","export default function getZIndex ( node ) {\n\treturn node && Number( getComputedStyle( node ).zIndex ) || 0;\n}\n","export default function last ( array ) {\n\treturn array[ array.length - 1 ];\n}\n","import findStackingContext from './utils/findStackingContext.js';\nimport getAncestors from './utils/getAncestors.js';\nimport getZIndex from './utils/getZIndex.js';\nimport last from './utils/last.js';\n\nexport function compare ( a, b ) {\n\tif ( a === b ) throw new Error( 'Cannot compare node with itself' );\n\n\tlet ancestors = {\n\t\ta: getAncestors( a ),\n\t\tb: getAncestors( b )\n\t};\n\n\tlet commonAncestor;\n\n\t// remove shared ancestors\n\twhile ( last( ancestors.a ) === last( ancestors.b ) ) {\n\t\ta = ancestors.a.pop();\n\t\tb = ancestors.b.pop();\n\n\t\tcommonAncestor = a;\n\t}\n\n\tlet stackingContexts = {\n\t\ta: findStackingContext( ancestors.a ),\n\t\tb: findStackingContext( ancestors.b )\n\t};\n\n\tlet zIndexes = {\n\t\ta: getZIndex( stackingContexts.a ),\n\t\tb: getZIndex( stackingContexts.b )\n\t};\n\n\tif ( zIndexes.a === zIndexes.b ) {\n\t\tconst children = commonAncestor.childNodes;\n\n\t\tconst furthestAncestors = {\n\t\t\ta: last( ancestors.a ),\n\t\t\tb: last( ancestors.b )\n\t\t};\n\n\t\tlet i = children.length;\n\t\twhile ( i-- ) {\n\t\t\tconst child = children[i];\n\t\t\tif ( child === furthestAncestors.a ) return 1;\n\t\t\tif ( child === furthestAncestors.b ) return -1;\n\t\t}\n\t}\n\n\treturn Math.sign( zIndexes.a - zIndexes.b );\n}\n","export const svgns = 'http://www.w3.org/2000/svg';\n","import { svgns } from './svg.js';\n\nexport function hideNode ( node ) {\n\tnode.__ramjetOriginalTransition__ = node.style.webkitTransition || node.style.transition;\n\tnode.__ramjetOriginalOpacity__ = node.style.opacity;\n\n\tnode.style.webkitTransition = node.style.transition = '';\n\n\tnode.style.opacity = 0;\n}\n\nexport function showNode ( node ) {\n\tif ( '__ramjetOriginalOpacity__' in node ) {\n\t\tnode.style.transition = '';\n\t\tnode.style.opacity = node.__ramjetOriginalOpacity__;\n\n\t\tif ( node.__ramjetOriginalTransition__ ) {\n\t\t\tsetTimeout( () => {\n\t\t\t\tnode.style.transition = node.__ramjetOriginalTransition__;\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function cloneNode ( node ) {\n\tconst clone = node.cloneNode();\n\n\tconst isSvg = node.parentNode && node.parentNode.namespaceURI === svgns;\n\n\tif ( node.nodeType === 1 ) {\n\t\tconst width = node.style.width;\n\t\tconst height = node.style.height;\n\n\t\tclone.setAttribute( 'style', window.getComputedStyle( node ).cssText );\n\n\t\tif ( isSvg ) {\n\t\t\tclone.style.width = width;\n\t\t\tclone.style.height = height;\n\t\t}\n\n\t\tconst len = node.childNodes.length;\n\t\tlet i;\n\n\t\tfor ( i = 0; i < len; i += 1 ) {\n\t\t\tclone.appendChild( cloneNode( node.childNodes[i] ) );\n\t\t}\n\t}\n\n\treturn clone;\n}\n","const bgColorRegexp= /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d?.\\d+))?\\)$/;\n\nexport default function parseColor ( str ) {\n\tconst match = bgColorRegexp.exec( str );\n\n\tif ( !match ) return null;\n\n\treturn {\n\t\tr: +match[1],\n\t\tg: +match[2],\n\t\tb: +match[3],\n\t\talpha: match[4] ? +match[4] : 1\n\t};\n}","var borderRadiusRegex = /^(\\d+)px(?: (\\d+)px)?$/;\n\nexport default function parseBorderRadius ( str ) {\n\tconst match = borderRadiusRegex.exec( str );\n\n\treturn match[2] ?\n\t\t{ x: +match[1], y: +match[2] } :\n\t\t{ x: +match[1], y: +match[1] };\n}","import { svgns } from './svg';\n\nexport function findParentByTagName ( node, tagName ) {\n\twhile ( node ) {\n\t\tif ( node.tagName === tagName ) {\n\t\t\treturn node;\n\t\t}\n\n\t\tnode = node.parentNode;\n\t}\n}\n\nexport function findTransformParent ( node ) {\n\tconst isSvg = node.namespaceURI === svgns && node.tagName !== 'svg';\n\treturn isSvg ? findParentByTagName( node, 'svg' ) : node.parentNode;\n}","const div = document.createElement( 'div' );\n\nlet keyframesSupported = true;\nlet TRANSFORM;\nlet TRANSFORM_ORIGIN;\nlet TRANSFORM_CSS;\nlet KEYFRAMES;\nlet ANIMATION;\nlet ANIMATION_DIRECTION;\nlet ANIMATION_DURATION;\nlet ANIMATION_ITERATION_COUNT;\nlet ANIMATION_NAME;\nlet ANIMATION_TIMING_FUNCTION;\nlet ANIMATION_END;\n\n// We have to browser-sniff for IE11, because it was apparently written\n// by a barrel of stoned monkeys - http://jsfiddle.net/rich_harris/oquLu2qL/\n\n// http://stackoverflow.com/questions/17907445/how-to-detect-ie11\nconst isIe11 = !window.ActiveXObject && 'ActiveXObject' in window;\n\nif (\n\t!isIe11 &&\n\t( 'transform' in div.style || 'webkitTransform' in div.style ) &&\n\t( 'animation' in div.style || 'webkitAnimation' in div.style )\n) {\n\tkeyframesSupported = true;\n\n\tif ( 'webkitTransform' in div.style ) {\n\t\tTRANSFORM = 'webkitTransform';\n\t\tTRANSFORM_CSS = '-webkit-transform';\n\t\tTRANSFORM_ORIGIN = 'webkitTransformOrigin';\n\t} else {\n\t\tTRANSFORM = TRANSFORM_CSS = 'transform';\n\t\tTRANSFORM_ORIGIN = 'transformOrigin';\n\t}\n\n\tif ( 'animation' in div.style ) {\n\t\tKEYFRAMES = '@keyframes';\n\n\t\tANIMATION                 = 'animation';\n\t\tANIMATION_DIRECTION       = 'animationDirection';\n\t\tANIMATION_DURATION        = 'animationDuration';\n\t\tANIMATION_ITERATION_COUNT = 'animationIterationCount';\n\t\tANIMATION_NAME            = 'animationName';\n\t\tANIMATION_TIMING_FUNCTION = 'animationTimingFunction';\n\n\t\tANIMATION_END             = 'animationend';\n\t} else {\n\t\tKEYFRAMES = '@-webkit-keyframes';\n\n\t\tANIMATION                 = 'webkitAnimation';\n\t\tANIMATION_DIRECTION       = 'webkitAnimationDirection';\n\t\tANIMATION_DURATION        = 'webkitAnimationDuration';\n\t\tANIMATION_ITERATION_COUNT = 'webkitAnimationIterationCount';\n\t\tANIMATION_NAME            = 'webkitAnimationName';\n\t\tANIMATION_TIMING_FUNCTION = 'webkitAnimationTimingFunction';\n\n\t\tANIMATION_END             = 'webkitAnimationEnd';\n\t}\n} else {\n\tkeyframesSupported = false;\n}\n\nexport {\n\tkeyframesSupported,\n\tTRANSFORM,\n\tTRANSFORM_ORIGIN,\n\tTRANSFORM_CSS,\n\tKEYFRAMES,\n\tANIMATION,\n\tANIMATION_DIRECTION,\n\tANIMATION_DURATION,\n\tANIMATION_ITERATION_COUNT,\n\tANIMATION_NAME,\n\tANIMATION_TIMING_FUNCTION,\n\tANIMATION_END\n};\n","import { svgns } from './svg.js';\nimport { TRANSFORM, TRANSFORM_ORIGIN } from './detect.js';\nimport { findTransformParent } from './findParent.js';\n\nexport const IDENTITY = [ 1, 0, 0, 1, 0, 0 ];\n\nexport function multiply ( [ a1, b1, c1, d1, e1, f1 ], [ a2, b2, c2, d2, e2, f2 ] ) {\n\treturn [\n\t\t( a1 * a2 ) + ( c1 * b2 ),      // a\n\t\t( b1 * a2 ) + ( d1 * b2 ),      // b\n\t\t( a1 * c2 ) + ( c1 * d2 ),      // c\n\t\t( b1 * c2 ) + ( d1 * d2 ),      // d\n\t\t( a1 * e2 ) + ( c1 * f2 ) + e1, // e\n\t\t( b1 * e2 ) + ( d1 * f2 ) + f1  // f\n\t];\n}\n\nexport function invert ( [ a, b, c, d, e, f ] ) {\n\tconst determinant = ( a * d ) - ( c * b );\n\n\treturn [\n\t\td /  determinant,\n\t\tb / -determinant,\n\t\tc / -determinant,\n\t\ta /  determinant,\n\t\t( ( c * f ) - ( e * d ) ) / determinant,\n\t\t( ( e * b ) - ( a * f ) ) / determinant\n\t];\n}\n\nfunction pythag ( a, b ) {\n\treturn Math.sqrt( a * a + b * b );\n}\n\nexport function decompose ( [ a, b, c, d, e, f ] ) {\n\t// If determinant equals zero (e.g. x scale or y scale equals zero),\n\t// the matrix cannot be decomposed\n\tif ( ( ( a * d ) - ( b * c ) ) === 0 ) return null;\n\n\t// See https://github.com/Rich-Harris/Neo/blob/master/Neo.js for\n\t// an explanation of the following\n\tconst scaleX = pythag( a, b );\n\ta /= scaleX;\n\tb /= scaleX;\n\n\tlet scaledShear = a * c + b * d;\n\tconst desheared = [ a * -scaledShear + c, b * -scaledShear + d ];\n\n\tconst scaleY = pythag( desheared[0], desheared[1] );\n\n\tconst skewX = scaledShear / scaleY;\n\n\tconst rotate = b > 0 ?\n\t\tMath.acos( a ) :\n\t\t( ( 2 * Math.PI ) - Math.acos( a ) );\n\n\treturn {\n\t\trotate,\n\t\tscaleX,\n\t\tscaleY,\n\t\tskewX,\n\t\ttranslateX: e,\n\t\ttranslateY: f\n\t};\n}\n\nexport function parseMatrixTransformString ( transform ) {\n\tif ( transform.slice( 0, 7 ) !== 'matrix(' ) {\n\t\tthrow new Error( `Could not parse transform string (${transform})` );\n\t}\n\n\treturn transform.slice( 7, -1 ).split( ' ' ).map( parseFloat );\n}\n\nexport function getCumulativeTransformMatrix ( node ) {\n\tif ( node.namespaceURI === svgns ) {\n\t\tconst { a, b, c, d, e, f } = node.getCTM();\n\t\treturn [ a, b, c, d, e, f ];\n\t}\n\n\tlet matrix = [ 1, 0, 0, 1, 0, 0 ];\n\n\twhile ( node instanceof Element ) {\n\t\tconst parentMatrix = getTransformMatrix( node );\n\n\t\tif ( parentMatrix ) {\n\t\t\tmatrix = multiply( parentMatrix, matrix );\n\t\t}\n\n\t\tnode = findTransformParent( node );\n\t}\n\n\treturn matrix;\n}\n\nexport function getTransformMatrix ( node ) {\n\tif ( node.namespaceURI === svgns ) {\n\t\tconst ctm = getCumulativeTransformMatrix( node );\n\t\tconst parentCTM = getCumulativeTransformMatrix( node.parentNode );\n\t\treturn multiply( invert( parentCTM ), ctm );\n\t}\n\n\tconst style = getComputedStyle( node );\n\tconst transform = style[ TRANSFORM ];\n\n\tif ( transform === 'none' ) {\n\t\treturn null;\n\t}\n\n\tconst origin = ( style[ TRANSFORM_ORIGIN ] ).split( ' ' ).map( parseFloat );\n\n\tlet matrix = parseMatrixTransformString( transform );\n\n\t// compensate for the transform origin (we want to express everything in [0,0] terms)\n\tmatrix = multiply( [ 1, 0, 0, 1, origin[0], origin[1] ], matrix );\n\tmatrix = multiply( matrix, [ 1, 0, 0, 1, -origin[0], -origin[1] ] );\n\n\t// TODO if is SVG, multiply by CTM, to account for viewBox\n\n\treturn matrix;\n}\n","import { cloneNode } from './utils/node.js';\nimport parseColor from './utils/parseColor.js';\nimport parseBorderRadius from './utils/parseBorderRadius.js';\nimport { svgns } from './utils/svg.js';\nimport { findParentByTagName } from './utils/findParent.js';\nimport {\n\tANIMATION,\n\tANIMATION_DIRECTION,\n\tANIMATION_DURATION,\n\tANIMATION_ITERATION_COUNT,\n\tANIMATION_NAME,\n\tANIMATION_TIMING_FUNCTION,\n\tTRANSFORM,\n\tTRANSFORM_ORIGIN\n} from './utils/detect.js';\nimport {\n\tinvert,\n\tgetCumulativeTransformMatrix,\n\tgetTransformMatrix,\n\tmultiply,\n\tIDENTITY\n} from './utils/matrix.js';\n\nfunction getBoundingClientRect ( node, invertedParentCTM ) {\n\tconst originalTransformOrigin = node.style[ TRANSFORM_ORIGIN ];\n\tconst originalTransform = node.style[ TRANSFORM ];\n\tconst originalTransformAttribute = node.getAttribute( 'transform' ); // SVG\n\n\tnode.style[ TRANSFORM_ORIGIN ] = '0 0';\n\tnode.style[ TRANSFORM ] = `matrix(${invertedParentCTM.join(',')})`;\n\n\tconst bcr = node.getBoundingClientRect();\n\n\t// reset\n\tnode.style[ TRANSFORM_ORIGIN ] = originalTransformOrigin;\n\tnode.style[ TRANSFORM ] = originalTransform;\n\tnode.setAttribute( 'transform', originalTransformAttribute || '' ); // TODO remove attribute altogether if null?\n\n\treturn bcr;\n}\n\nexport default class Wrapper {\n\tconstructor ( node, options ) {\n\t\tthis.init( node, options );\n\t}\n\n\tinit ( node ) {\n\t\tthis._node = node;\n\t\tthis._clone = cloneNode( node );\n\n\t\tconst style = window.getComputedStyle( node );\n\t\tthis.style = style;\n\n\t\t// we need to get the 'naked' boundingClientRect, i.e.\n\t\t// without any transforms\n\t\t// TODO what if the node is the root <svg> node?\n\t\tconst parentCTM = node.namespaceURI === 'svg' ? node.parentNode.getScreenCTM() : getCumulativeTransformMatrix( node.parentNode );\n\t\tthis.invertedParentCTM = invert( parentCTM );\n\t\tthis.transform = getTransformMatrix( node ) || IDENTITY;\n\t\tthis.ctm = multiply( parentCTM, this.transform );\n\n\t\tconst bcr = getBoundingClientRect( node, this.invertedParentCTM );\n\t\tthis.bcr = bcr;\n\n\t\t// TODO create a flat array? easier to work with later?\n\t\tconst borderRadius = {\n\t\t\ttl: parseBorderRadius( style.borderTopLeftRadius ),\n\t\t\ttr: parseBorderRadius( style.borderTopRightRadius ),\n\t\t\tbr: parseBorderRadius( style.borderBottomRightRadius ),\n\t\t\tbl: parseBorderRadius( style.borderBottomLeftRadius )\n\t\t};\n\n\t\tthis.borderRadius = borderRadius;\n\t\tthis.opacity = +( style.opacity );\n\t\tthis.rgba = parseColor( style.backgroundColor );\n\n\t\tthis.left = bcr.left;\n\t\tthis.top = bcr.top;\n\t\tthis.width = bcr.width;\n\t\tthis.height = bcr.height;\n\t}\n\n\tinsert () {\n\t\tconst bcr = this.bcr;\n\n\t\tconst offsetParent = this._node.offsetParent;\n\n\t\tlet clone;\n\n\t\tif ( this._node.namespaceURI === svgns ) { // TODO what if it's the <svg> itself, not a child?\n\t\t\tconst svg = findParentByTagName( this._node, 'svg' ); // TODO should be the namespace boundary - could be SVG inside SVG\n\n\t\t\tclone = svg.cloneNode( false );\n\t\t\tclone.appendChild( this._clone ); // TODO what about transforms?\n\t\t} else {\n\t\t\tclone = this._clone;\n\t\t}\n\n\t\tconst offsetParentStyle = window.getComputedStyle( offsetParent );\n\t\tconst offsetParentBcr = getBoundingClientRect( offsetParent, invert( getCumulativeTransformMatrix( offsetParent.parentNode ) ) );\n\n\t\tclone.style.position = 'absolute';\n\t\tclone.style[ TRANSFORM_ORIGIN ] = '0 0';\n\t\tclone.style.top = ( bcr.top - parseInt( this.style.marginTop, 10 ) - ( offsetParentBcr.top - parseInt( offsetParentStyle.marginTop, 10 ) ) ) + 'px';\n\t\tclone.style.left = ( bcr.left - parseInt( this.style.marginLeft, 10 ) - ( offsetParentBcr.left - parseInt( offsetParentStyle.marginLeft, 10 ) ) ) + 'px';\n\n\t\t// TODO we need to account for transforms *between* the offset parent and the node\n\n\t\toffsetParent.appendChild( clone );\n\t}\n\n\tdetach () {\n\t\tthis._clone.parentNode.removeChild( this._clone );\n\t}\n\n\tsetOpacity ( opacity ) {\n\t\tthis._clone.style.opacity = opacity;\n\t}\n\n\tsetTransform( transform ) {\n\t\tthis._clone.style.transform = this._clone.style.webkitTransform = this._clone.style.msTransform = transform;\n\t}\n\n\tsetBackgroundColor ( color ) {\n\t\tthis._clone.style.backgroundColor = color;\n\t}\n\n\tsetBorderRadius ( borderRadius ) {\n\t\tthis._clone.style.borderRadius = borderRadius;\n\t}\n\n\tanimateWithKeyframes ( id, duration ) {\n\t\tthis._clone.style[ ANIMATION_DIRECTION ] = 'alternate';\n\t\tthis._clone.style[ ANIMATION_DURATION ] = `${duration/1000}s`;\n\t\tthis._clone.style[ ANIMATION_ITERATION_COUNT ] = 1;\n\t\tthis._clone.style[ ANIMATION_NAME ] = id;\n\t\tthis._clone.style[ ANIMATION_TIMING_FUNCTION ] = 'linear';\n\t}\n\n\tfreeze () {\n\t\tconst computedStyle = getComputedStyle( this._clone );\n\n\t\tthis.setOpacity( computedStyle.opacity );\n\t\tthis.setTransform( computedStyle.transform );\n\t\tthis.setBackgroundColor( computedStyle.backgroundColor );\n\t\tthis.setBorderRadius( computedStyle.borderRadius );\n\n\t\tthis._clone.style[ ANIMATION ] = 'none';\n\t}\n}\n","export default function getOpacityInterpolator ( from, to, order ) {\n\tlet opacity = {};\n\n\treturn t => {\n\t\tconst targetOpacity = ( to - from ) * t + from;\n\n\t\t// Based on the blending formula here. (http://en.wikipedia.org/wiki/Alpha_compositing#Alpha_blending)\n\t\t// This is a quadratic blending function that makes the top layer and bottom layer blend linearly.\n\t\t// However there is an asymptote at target=1 so that needs to be handled with an if else statement.\n\t\tif ( targetOpacity === 1 ) {\n\t\t\tif ( order === 1 ) {\n\t\t\t\topacity.from = 1 - t;\n\t\t\t\topacity.to = 1;\n\t\t\t} else {\n\t\t\t\topacity.from = 1;\n\t\t\t\topacity.to = t;\n\t\t\t}\n\t\t} else {\n\t\t\topacity.from = targetOpacity - ( t * t * targetOpacity );\n\t\t\topacity.to = ( targetOpacity - opacity.from ) / ( 1 - opacity.from );\n\t\t}\n\n\t\treturn opacity;\n\t};\n}\n","import getOpacityInterpolator from './opacity';\n\nexport default function getRgbaInterpolator ( a, b, order ) {\n\tif ( a.alpha === 1 && b.alpha === 1 ) {\n\t\t// no need to animate anything\n\t\treturn null;\n\t}\n\n\tlet rgba = {};\n\tlet opacityAt = getOpacityInterpolator( a.alpha, b.alpha, order );\n\n\treturn t => {\n\t\tconst opacity = opacityAt( t );\n\n\t\trgba.from = `rgba(${a.r},${a.g},${a.b},${opacity.from})`;\n\t\trgba.to = `rgba(${b.r},${b.g},${b.b},${opacity.to})`;\n\n\t\treturn rgba;\n\t};\n}\n","export default function interpolateArray ( a, b ) {\n\tconst len = a.length;\n\tlet array = new Array( len );\n\n\treturn t => {\n\t\tlet i = len;\n\t\twhile ( i-- ) {\n\t\t\tarray[i] = a[i] + t * ( b[i] - a[i] );\n\t\t}\n\n\t\treturn array;\n\t};\n}\n","import interpolateArray from './array.js';\n\n// Border radius is given as a string in the following form\n//\n//     tl.x tr.x br.x bl.x / tl.y tr.y br.y bl.y\n//\n// ...where t, r, b and l are top, right, bottom, left, and\n// x and y are self-explanatory. Each value is followed by 'px'\n\n// TODO it must be possible to do this more simply. Maybe have\n// a flat array from the start?\n\nexport default function getBorderRadiusInterpolator ( a, b ) {\n\t// TODO fast path - no transition needed\n\n\tconst aWidth = a.width;\n\tconst aHeight = a.height;\n\n\tconst bWidth = b.width;\n\tconst bHeight = b.height;\n\n\ta = a.borderRadius;\n\tb = b.borderRadius;\n\n\tconst a_x_t0 = [ a.tl.x, a.tr.x, a.br.x, a.bl.x ];\n\tconst a_y_t0 = [ a.tl.y, a.tr.y, a.br.y, a.bl.y ];\n\n\tconst b_x_t1 = [ b.tl.x, b.tr.x, b.br.x, b.bl.x ];\n\tconst b_y_t1 = [ b.tl.y, b.tr.y, b.br.y, b.bl.y ];\n\n\tconst a_x_t1 = b_x_t1.map( x => x * aWidth / bWidth );\n\tconst a_y_t1 = b_y_t1.map( y => y * aHeight / bHeight );\n\n\tconst b_x_t0 = a_x_t0.map( x => x * bWidth / aWidth );\n\tconst b_y_t0 = a_y_t0.map( y => y * bHeight / aHeight );\n\n\tconst ax = interpolateArray( a_x_t0, a_x_t1 );\n\tconst ay = interpolateArray( a_y_t0, a_y_t1 );\n\n\tconst bx = interpolateArray( b_x_t0, b_x_t1 );\n\tconst by = interpolateArray( b_y_t0, b_y_t1 );\n\n\tlet borderRadius = {};\n\n\treturn t => {\n\t\tlet x = ax( t );\n\t\tlet y = ay( t );\n\n\t\tborderRadius.from = `${x.join('px ')}px / ${y.join('px ')}px`;\n\n\t\tx = bx( t );\n\t\ty = by( t );\n\n\t\tborderRadius.to = `${x.join('px ')}px / ${y.join('px ')}px`;\n\n\t\treturn borderRadius;\n\t};\n}\n","import { IDENTITY, decompose, multiply } from '../utils/matrix';\n\nfunction interpolateMatrices ( a, b ) {\n\tlet transform = [];\n\n\treturn t => {\n\t\tlet i = a.length;\n\t\twhile ( i-- ) {\n\t\t\tconst from = a[i];\n\t\t\tconst to = b[i];\n\t\t\ttransform[i] = from + t * ( to - from );\n\t\t}\n\n\t\treturn `matrix(${transform.join(',')})`;\n\t};\n}\n\nfunction interpolate ( a, b ) {\n\tconst d = b - a;\n\treturn t => a + t * d;\n}\n\nfunction getRotation ( radians ) {\n\twhile ( radians > Math.PI ) radians -= Math.PI * 2;\n\twhile ( radians < -Math.PI ) radians += Math.PI * 2;\n\treturn radians;\n}\n\nfunction interpolateDecomposedTransforms ( a, b ) {\n\tconst rotate = interpolate( getRotation( a.rotate ), getRotation( b.rotate ) );\n\tconst skewX = interpolate( a.skewX, b.skewX );\n\tconst scaleX = interpolate( a.scaleX, b.scaleX );\n\tconst scaleY = interpolate( a.scaleY, b.scaleY );\n\tconst translateX = interpolate( a.translateX, b.translateX );\n\tconst translateY = interpolate( a.translateY, b.translateY );\n\n\treturn t => {\n\t\tconst transform = `translate(${translateX(t)}px, ${translateY(t)}px) rotate(${rotate(t)}rad) skewX(${skewX(t)}rad) scale(${scaleX(t)}, ${scaleY(t)})`;\n\t\treturn transform;\n\t};\n}\n\nexport default function getTransformInterpolator ( a, b ) {\n\tconst scale_x = b.width / a.width;\n\tconst scale_y = b.height / a.height;\n\tconst d_x = b.left - a.left;\n\tconst d_y = b.top - a.top;\n\n\tconst a_start = a.transform;\n\n\tconst move_a_to_b = [ 1, 0, 0, 1, d_x, d_y ];\n\tconst scale_a_to_b = [ scale_x, 0, 0, scale_y, 0, 0 ];\n\n\tlet matrix = IDENTITY;\n\n\tmatrix = multiply( matrix, a.invertedParentCTM );\n\tmatrix = multiply( matrix, move_a_to_b );\n\tmatrix = multiply( matrix, b.ctm );\n\tmatrix = multiply( matrix, scale_a_to_b );\n\n\tconst decomposed_start = decompose( a_start );\n\tconst decomposed_end = decompose( matrix );\n\n\tif ( !decomposed_start || !decomposed_end ) return interpolateMatrices( a_start, matrix );\n\treturn interpolateDecomposedTransforms( decomposed_start, decomposed_end );\n}\n","export function linear ( pos ) {\n\treturn pos;\n}\n\nexport function easeIn ( pos ) {\n\treturn Math.pow( pos, 3 );\n}\n\nexport function easeOut ( pos ) {\n\treturn ( Math.pow( ( pos - 1 ), 3 ) + 1 );\n}\n\nexport function easeInOut ( pos ) {\n\tif ( ( pos /= 0.5 ) < 1 ) {\n\t\treturn ( 0.5 * Math.pow( pos, 3 ) );\n\t}\n\n\treturn ( 0.5 * ( Math.pow( ( pos - 2 ), 3 ) + 2 ) );\n}","const head = document.getElementsByTagName( 'head' )[0];\n\nexport default function addCss ( css ) {\n\tlet styleElement = document.createElement( 'style' );\n\tstyleElement.type = 'text/css';\n\n\t// Internet Exploder won't let you use styleSheet.innerHTML - we have to\n\t// use styleSheet.cssText instead\n\tlet styleSheet = styleElement.styleSheet;\n\n\tif ( styleSheet ) {\n\t\tstyleSheet.cssText = css;\n\t} else {\n\t\tstyleElement.innerHTML = css;\n\t}\n\n\thead.appendChild( styleElement );\n\n\treturn () => head.removeChild( styleElement );\n}\n","export default function generateId () {\n\treturn 'ramjet' + ~~( Math.random() * 1000000 );\n}\n","const rAF = window.requestAnimationFrame       ||\n            window.webkitRequestAnimationFrame ||\n            ( fn => setTimeout( fn, 16 ) );\n\nexport default rAF;","import { compare } from 'stacking-order';\nimport getOpacityInterpolator from './interpolators/opacity.js';\nimport getRgbaInterpolator from './interpolators/rgba.js';\nimport getBorderRadiusInterpolator from './interpolators/borderRadius.js';\nimport getTransformInterpolator from './interpolators/transform.js';\nimport { linear } from './easing.js';\nimport addCss from './utils/addCss.js';\nimport getKeyframes from './utils/getKeyframes.js';\nimport generateId from './utils/generateId.js';\nimport {\n\tKEYFRAMES,\n\tANIMATION_END,\n\tkeyframesSupported\n} from './utils/detect.js';\nimport rAF from './utils/rAF.js';\n\nexport default function transformer ( from, to, options ) {\n\tconst duration = options.duration || 400;\n\tconst easing = options.easing || linear;\n\n\tconst useTimer = !keyframesSupported || !!options.useTimer;\n\n\tconst order = compare( from._node, to._node );\n\n\tconst interpolators = {\n\t\topacity: getOpacityInterpolator( from.opacity, to.opacity, order ),\n\t\tbackgroundColor: options.interpolateBackgroundColor ? getRgbaInterpolator( from.rgba, to.rgba, order ) : null,\n\t\tborderRadius: options.interpolateBorderRadius ? getBorderRadiusInterpolator( from, to ) : null,\n\t\ttransformFrom: getTransformInterpolator( from, to ),\n\t\ttransformTo: getTransformInterpolator( to, from )\n\t};\n\n\tlet running;\n\tlet disposeCss;\n\tlet torndown;\n\n\tlet remaining = duration;\n\tlet endTime;\n\n\tfunction tick () {\n\t\tif ( !running ) return;\n\n\t\tconst timeNow = Date.now();\n\t\tremaining = endTime - timeNow;\n\n\t\tif ( remaining < 0 ) {\n\t\t\ttransformer.teardown();\n\t\t\tif ( options.done ) options.done();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst t = easing( 1 - ( remaining / duration ) );\n\t\ttransformer.goto( t );\n\n\t\trAF( tick );\n\t}\n\n\tconst transformer = {\n\t\tteardown () {\n\t\t\tif ( torndown ) return transformer;\n\n\t\t\trunning = false;\n\t\t\ttorndown = true;\n\n\t\t\tfrom.detach();\n\t\t\tto.detach();\n\n\t\t\tfrom = null;\n\t\t\tto = null;\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tgoto ( pos ) {\n\t\t\ttransformer.pause();\n\n\t\t\tconst t = easing( pos );\n\n\t\t\t// opacity\n\t\t\tconst opacity = interpolators.opacity( t );\n\t\t\tfrom.setOpacity( opacity.from );\n\t\t\tto.setOpacity( opacity.to );\n\n\t\t\t// transform\n\t\t\tconst transformFrom = interpolators.transformFrom( t );\n\t\t\tconst transformTo = interpolators.transformTo( 1 - t );\n\t\t\tfrom.setTransform( transformFrom );\n\t\t\tto.setTransform( transformTo );\n\n\t\t\t// background color\n\t\t\tif ( interpolators.backgroundColor ) {\n\t\t\t\tconst backgroundColor = interpolators.backgroundColor( t );\n\t\t\t\tfrom.setBackgroundColor( backgroundColor.from );\n\t\t\t\tto.setBackgroundColor( backgroundColor.to );\n\t\t\t}\n\n\t\t\t// border radius\n\t\t\tif ( interpolators.borderRadius ) {\n\t\t\t\tconst borderRadius = interpolators.borderRadius( t );\n\t\t\t\tfrom.setBorderRadius( borderRadius.from );\n\t\t\t\tto.setBorderRadius( borderRadius.to );\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tpause () {\n\t\t\tif ( !running ) return transformer;\n\t\t\trunning = false;\n\n\t\t\tif ( !useTimer ) {\n\t\t\t\t// TODO derive current position somehow, use that rather than\n\t\t\t\t// current computed style (from and to get out of sync in\n\t\t\t\t// some browsers?)\n\t\t\t\tremaining = endTime - Date.now();\n\n\t\t\t\tfrom.freeze();\n\t\t\t\tto.freeze();\n\t\t\t\tdisposeCss();\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t},\n\n\t\tplay () {\n\t\t\tif ( running ) return transformer;\n\t\t\trunning = true;\n\n\t\t\tendTime = Date.now() + remaining;\n\n\t\t\tif ( useTimer ) {\n\t\t\t\trAF( tick );\n\t\t\t} else {\n\t\t\t\tconst { fromKeyframes, toKeyframes } = getKeyframes( from, to, interpolators, options.easing || linear, remaining, duration );\n\n\t\t\t\tconst fromId = generateId();\n\t\t\t\tconst toId = generateId();\n\n\t\t\t\tconst css = `\n\t\t\t\t\t${KEYFRAMES} ${fromId} { ${fromKeyframes} }\n\t\t\t\t\t${KEYFRAMES} ${toId}   { ${toKeyframes} }`;\n\n\t\t\t\tdisposeCss = addCss( css );\n\n\t\t\t\tfrom.animateWithKeyframes( fromId, remaining );\n\t\t\t\tto.animateWithKeyframes( toId, remaining );\n\t\t\t}\n\n\t\t\treturn transformer;\n\t\t}\n\t};\n\n\t// handle animation end\n\tif ( !useTimer ) {\n\t\tlet animating = 2;\n\n\t\tconst done = () => {\n\t\t\tif ( !--animating ) {\n\t\t\t\ttransformer.teardown();\n\n\t\t\t\tif ( options.done ) options.done();\n\n\t\t\t\tdisposeCss();\n\t\t\t}\n\t\t};\n\n\t\tfrom._clone.addEventListener( ANIMATION_END, done );\n\t\tto._clone.addEventListener( ANIMATION_END, done );\n\t}\n\n\treturn transformer.play();\n}\n","import { TRANSFORM_CSS } from './detect.js';\n\nexport default function getKeyframes ( from, to, interpolators, easing, remaining, duration ) {\n\tconst numFrames = remaining / 16;\n\n\tlet fromKeyframes = '';\n\tlet toKeyframes = '';\n\n\tfunction addKeyframes ( pc, t ) {\n\t\tconst opacity = interpolators.opacity( t );\n\t\tconst backgroundColor = interpolators.backgroundColor ? interpolators.backgroundColor( t ) : null;\n\t\tconst borderRadius = interpolators.borderRadius ? interpolators.borderRadius( t ) : null;\n\t\tconst transformFrom = interpolators.transformFrom( t );\n\t\tconst transformTo = interpolators.transformTo( 1 - t );\n\n\t\tfromKeyframes += '\\n' +\n\t\t\t`${pc}% {` +\n\t\t\t\t`opacity: ${opacity.from};` +\n\t\t\t\t`${TRANSFORM_CSS}: ${transformFrom};` +\n\t\t\t\t( backgroundColor ? `background-color: ${backgroundColor.from};` : '' ) +\n\t\t\t\t( borderRadius ? `border-radius: ${borderRadius.from};` : '' ) +\n\t\t\t`}`;\n\n\t\ttoKeyframes += '\\n' +\n\t\t\t`${pc}% {` +\n\t\t\t\t`opacity: ${opacity.to};` +\n\t\t\t\t`${TRANSFORM_CSS}: ${transformTo};` +\n\t\t\t\t( backgroundColor ? `background-color: ${backgroundColor.to};` : '' ) +\n\t\t\t\t( borderRadius ? `border-radius: ${borderRadius.to};` : '' ) +\n\t\t\t`}`;\n\t}\n\n\tlet i;\n\tlet startPos = 1 - ( remaining / duration );\n\n\tfor ( i = 0; i < numFrames; i += 1 ) {\n\t\tconst relPos = i / numFrames;\n\t\tconst absPos = startPos + ( ( remaining / duration ) * relPos );\n\n\t\tconst pc = 100 * relPos;\n\t\tconst t = easing( absPos );\n\n\t\taddKeyframes( pc, t );\n\t}\n\n\taddKeyframes( 100, 1 );\n\n\treturn { fromKeyframes, toKeyframes };\n}\n","<script>\nimport ramjet from \"ramjet\";\nconst components = {};\nlet returnTrip = {\n  id: \"\",\n  el: null,\n  pos: null\n};\nlet matchedEl = null;\nlet hasBustableCache = false;\nconst getPosition = (node, addOffset = false) => {\n  const rect = node.getBoundingClientRect();\n  const computedStyle = window.getComputedStyle(node);\n  const marginTop = parseInt(computedStyle.marginTop, 10);\n  const marginLeft = parseInt(computedStyle.marginLeft, 10);\n\n  return {\n    top: `${rect.top -\n      marginTop +\n      (addOffset ? 1 : 0) *\n        (window.pageYOffset || document.documentElement.scrollTop)}px`,\n    left: `${rect.left - marginLeft}px`,\n    width: `${rect.width}px`,\n    height: `${rect.height}px`,\n    borderRadius: computedStyle.borderRadius,\n    position: \"absolute\"\n  };\n};\nexport default {\n  props: {\n    tag: {\n      type: String,\n      default: \"div\"\n    },\n    id: {\n      type: String,\n      required: true\n    },\n    duration: {\n      type: Number,\n      duration: 400\n    },\n    easing: {\n      type: Function,\n      default: ramjet.linear\n    }\n  },\n  data() {\n    return {\n      animating: false,\n      transformer: {}\n    };\n  },\n  methods: {\n    cache() {\n      components[this.id] = {\n        el: this.$slots.default,\n        pos: getPosition(this.$el.firstChild)\n      };\n    },\n    cloneAndAppend() {\n      const { el, pos } = components[this.id];\n      const clone = el[0].elm.cloneNode(true);\n      clone.setAttribute(\"data-clone\", true);\n      Object.assign(clone.style, pos);\n      document.body.appendChild(clone);\n    },\n    bustCache() {\n      Object.keys(components).forEach(id => {\n        components[id] = false;\n      });\n    },\n    animate(cb = () => {}) {\n      const a = document.querySelector(\"[data-clone]\");\n      const b = this.$el.firstChild;\n      this.animating = true;\n      this.transformer = ramjet.transform(a, b, {\n        duration: this.duration,\n        easing: this.easing,\n        appendToBody: true,\n        done: () => {\n          cb(a, b);\n          this.animating = false;\n          this.$emit(\"animation-end\");\n        }\n      });\n      ramjet.hide(a, b);\n    },\n    handleFirstTimeMatch() {\n      matchedEl = this.id;\n      this.cloneAndAppend();\n      const cb = (a, b) => {\n        ramjet.show(b);\n      };\n      this.$nextTick(() => {\n        this.animate(cb);\n        const clone = document.querySelector(\"[data-clone]\");\n        document.body.removeChild(clone);\n        hasBustableCache && this.bustCache();\n        this.cache();\n      });\n    },\n    handleMatch() {\n      this.cloneAndAppend();\n      const cb = (a, b) => {\n        ramjet.show(b);\n        matchedEl = null;\n      };\n      this.$nextTick(() => {\n        this.animate(cb);\n        const clone = document.querySelector(\"[data-clone]\");\n        document.body.removeChild(clone);\n        this.cache();\n      });\n    }\n  },\n  mounted() {\n    const match = components[this.id];\n    if (match && !matchedEl) {\n      this.handleFirstTimeMatch();\n    } else if (match && matchedEl) {\n      this.handleMatch();\n      return;\n    } else {\n      this.cache();\n    }\n  },\n  beforeDestroy() {\n    hasBustableCache = Object.keys(components).length > 1;\n    if (this.animating) {\n      this.transformer.teardown();\n    }\n  },\n  render(h) {\n    return h(this.tag, [this.$slots.default]);\n  }\n};\n</script>\n","import Overdrive from \"./Overdrive.vue\";\n\nexport function install(Vue) {\n  if (install.installed) return;\n  install.installed = true;\n  Vue.component(\"overdrive\", Overdrive);\n}\n\nexport const VOverdrive = Overdrive;\n\nconst plugin = {\n  install,\n\n  get enabled() {\n    return state.enabled;\n  },\n\n  set enabled(value) {\n    state.enabled = value;\n  }\n};\n\n// Auto-install\nlet GlobalVue = null;\nif (typeof window !== \"undefined\") {\n  GlobalVue = window.Vue;\n} else if (typeof global !== \"undefined\") {\n  GlobalVue = global.Vue;\n}\nif (GlobalVue) {\n  GlobalVue.use(plugin);\n}\n\nexport default plugin;\n"]}